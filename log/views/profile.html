<!DOCTYPE html>
<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>
</head>

<body>
  <div id="content">
    <h1>User Data</h1>
    <ul>
      <li>${userInfo.email}</li>
      <li>${userInfo.first_name}</li>
      <li>${userInfo.last_name}</li>
      <li>${userInfo.password}</li>
      <li>${(userInfo.admin)? 'True': 'False'}</li>
    </ul>
  </div>
  <button onclick="window.location='/portal'">Portal</button>
  <!-- <div id="editor"></div> -->
  <button id="cmd">Generate PDF</button>

  <button id="create" onclick="genLink()">Creat Link</button>

  <script>
    var doc = new jsPDF();
    // var specialElementHandlers = {
    //   '#editor': function(element, renderer) {
    //     return true;
    //   }
    // };

    $('#cmd').click(function() {
      doc.fromHTML($('#content').html(), 15, 15, {
        'width': 170,
        // 'elementHandlers': specialElementHandlers
      });
      console.log(window.btoa(doc.output()))
      doc.save('sample-file.pdf');
    });

    console.log($('#content').html())
    // window.open("data:application/pdf;base64," + encodeURI(
    //   'JVBERi0xLjMKJbrfrOAKMyAwIG9iago8PC9UeXBlIC9QYWdlCi9QYXJlbnQgMSAwIFIKL1Jlc291cmNlcyAyIDAgUgovTWVkaWFCb3ggWzAgMCA1OTUuMjggODQxLjg5XQovQ29udGVudHMgNCAwIFIKPj4KZW5kb2JqCjQgMCBvYmoKPDwKL0xlbmd0aCAxMzQ2Cj4+CnN0cmVhbQowLjU3IHcKMCBHCnEKcSBCVCAwIGcgNDIuNTIgNzgzLjI5IFRkCjAgLTI0LjAwIFRkCjAuMDAwIGcKL0YxMCAyNC4wMCBUZiAoVXNlciBEYXRhKSBUagpFVCBRCnEgQlQgMCBnIDYyLjUyIDczNC43MSBUZAowIC0xMi4wMCBUZAovRjkgMTIuMDAgVGYgKHZjYW5uYWxsQHVjc2QuZWR1KSBUago1Ni44MyA3MjYuNjAgbSA1Ni44MyA3MjcuNTYgNTYuMDUgNzI4LjM0IDU1LjA5IDcyOC4zNCBjCjU0LjEzIDcyOC4zNCA1My4zNSA3MjcuNTYgNTMuMzUgNzI2LjYwIGMKNTMuMzUgNzI1LjY0IDU0LjEzIDcyNC44NiA1NS4wOSA3MjQuODYgYwo1Ni4wNSA3MjQuODYgNTYuODMgNzI1LjY0IDU2LjgzIDcyNi42MCBjCkIKRVQgUQpxIEJUIDAgZyA2Mi41MiA3MTQuMjAgVGQKMCAtMTIuMDAgVGQKL0Y5IDEyLjAwIFRmIChWaW5jZW50KSBUago1Ni44MyA3MDYuMTAgbSA1Ni44MyA3MDcuMDYgNTYuMDUgNzA3Ljg0IDU1LjA5IDcwNy44NCBjCjU0LjEzIDcwNy44NCA1My4zNSA3MDcuMDYgNTMuMzUgNzA2LjEwIGMKNTMuMzUgNzA1LjE0IDU0LjEzIDcwNC4zNiA1NS4wOSA3MDQuMzYgYwo1Ni4wNSA3MDQuMzYgNTYuODMgNzA1LjE0IDU2LjgzIDcwNi4xMCBjCkIKRVQgUQpxIEJUIDAgZyA2Mi41MiA2OTMuNzAgVGQKMCAtMTIuMDAgVGQKL0Y5IDEyLjAwIFRmIChDYW5uYWxsYSkgVGoKNTYuODMgNjg1LjU5IG0gNTYuODMgNjg2LjU1IDU2LjA1IDY4Ny4zMyA1NS4wOSA2ODcuMzMgYwo1NC4xMyA2ODcuMzMgNTMuMzUgNjg2LjU1IDUzLjM1IDY4NS41OSBjCjUzLjM1IDY4NC42MyA1NC4xMyA2ODMuODUgNTUuMDkgNjgzLjg1IGMKNTYuMDUgNjgzLjg1IDU2LjgzIDY4NC42MyA1Ni44MyA2ODUuNTkgYwpCCkVUIFEKcSBCVCAwIGcgNjIuNTIgNjczLjE5IFRkCjAgLTEyLjAwIFRkCi9GOSAxMi4wMCBUZiAoMzU1NjQ5OCkgVGoKNTYuODMgNjY1LjA5IG0gNTYuODMgNjY2LjA1IDU2LjA1IDY2Ni44MyA1NS4wOSA2NjYuODMgYwo1NC4xMyA2NjYuODMgNTMuMzUgNjY2LjA1IDUzLjM1IDY2NS4wOSBjCjUzLjM1IDY2NC4xMyA1NC4xMyA2NjMuMzUgNTUuMDkgNjYzLjM1IGMKNTYuMDUgNjYzLjM1IDU2LjgzIDY2NC4xMyA1Ni44MyA2NjUuMDkgYwpCCkVUIFEKcSBCVCAwIGcgNjIuNTIgNjUyLjY5IFRkCjAgLTEyLjAwIFRkCi9GOSAxMi4wMCBUZiAoVHJ1ZSkgVGoKNTYuODMgNjQ0LjU5IG0gNTYuODMgNjQ1LjU1IDU2LjA1IDY0Ni4zMyA1NS4wOSA2NDYuMzMgYwo1NC4xMyA2NDYuMzMgNTMuMzUgNjQ1LjU1IDUzLjM1IDY0NC41OSBjCjUzLjM1IDY0My42MiA1NC4xMyA2NDIuODUgNTUuMDkgNjQyLjg1IGMKNTYuMDUgNjQyLjg1IDU2LjgzIDY0My42MiA1Ni44MyA2NDQuNTkgYwpCCkVUIFEKUQplbmRzdHJlYW0KZW5kb2JqCjEgMCBvYmoKPDwvVHlwZSAvUGFnZXMKL0tpZHMgWzMgMCBSIF0KL0NvdW50IDEKPj4KZW5kb2JqCjUgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9IZWx2ZXRpY2EKL1N1YnR5cGUgL1R5cGUxCi9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKNiAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL0hlbHZldGljYS1Cb2xkCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjcgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9IZWx2ZXRpY2EtT2JsaXF1ZQovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iago4IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvSGVsdmV0aWNhLUJvbGRPYmxpcXVlCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjkgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9Db3VyaWVyCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjEwIDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQ291cmllci1Cb2xkCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjExIDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQ291cmllci1PYmxpcXVlCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjEyIDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQ291cmllci1Cb2xkT2JsaXF1ZQovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iagoxMyAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL1RpbWVzLVJvbWFuCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjE0IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvVGltZXMtQm9sZAovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iagoxNSAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL1RpbWVzLUl0YWxpYwovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iagoxNiAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL1RpbWVzLUJvbGRJdGFsaWMKL1N1YnR5cGUgL1R5cGUxCi9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKMTcgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9aYXBmRGluZ2JhdHMKL1N1YnR5cGUgL1R5cGUxCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKMTggMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9TeW1ib2wKL1N1YnR5cGUgL1R5cGUxCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKMiAwIG9iago8PAovUHJvY1NldCBbL1BERiAvVGV4dCAvSW1hZ2VCIC9JbWFnZUMgL0ltYWdlSV0KL0ZvbnQgPDwKL0YxIDUgMCBSCi9GMiA2IDAgUgovRjMgNyAwIFIKL0Y0IDggMCBSCi9GNSA5IDAgUgovRjYgMTAgMCBSCi9GNyAxMSAwIFIKL0Y4IDEyIDAgUgovRjkgMTMgMCBSCi9GMTAgMTQgMCBSCi9GMTEgMTUgMCBSCi9GMTIgMTYgMCBSCi9GMTMgMTcgMCBSCi9GMTQgMTggMCBSCj4+Ci9YT2JqZWN0IDw8Cj4+Cj4+CmVuZG9iagoxOSAwIG9iago8PAovUHJvZHVjZXIgKGpzUERGIDEuNS4zKQovQ3JlYXRpb25EYXRlIChEOjIwMTkwMzE1MTUyNjEzLTA3JzAwJykKPj4KZW5kb2JqCjIwIDAgb2JqCjw8Ci9UeXBlIC9DYXRhbG9nCi9QYWdlcyAxIDAgUgovT3BlbkFjdGlvbiBbMyAwIFIgL0ZpdEggbnVsbF0KL1BhZ2VMYXlvdXQgL09uZUNvbHVtbgo+PgplbmRvYmoKeHJlZgowIDIxCjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMTUyMiAwMDAwMCBuIAowMDAwMDAzMzM5IDAwMDAwIG4gCjAwMDAwMDAwMTUgMDAwMDAgbiAKMDAwMDAwMDEyNCAwMDAwMCBuIAowMDAwMDAxNTc5IDAwMDAwIG4gCjAwMDAwMDE3MDQgMDAwMDAgbiAKMDAwMDAwMTgzNCAwMDAwMCBuIAowMDAwMDAxOTY3IDAwMDAwIG4gCjAwMDAwMDIxMDQgMDAwMDAgbiAKMDAwMDAwMjIyNyAwMDAwMCBuIAowMDAwMDAyMzU2IDAwMDAwIG4gCjAwMDAwMDI0ODggMDAwMDAgbiAKMDAwMDAwMjYyNCAwMDAwMCBuIAowMDAwMDAyNzUyIDAwMDAwIG4gCjAwMDAwMDI4NzkgMDAwMDAgbiAKMDAwMDAwMzAwOCAwMDAwMCBuIAowMDAwMDAzMTQxIDAwMDAwIG4gCjAwMDAwMDMyNDMgMDAwMDAgbiAKMDAwMDAwMzU4NyAwMDAwMCBuIAowMDAwMDAzNjczIDAwMDAwIG4gCnRyYWlsZXIKPDwKL1NpemUgMjEKL1Jvb3QgMjAgMCBSCi9JbmZvIDE5IDAgUgovSUQgWyA8ODA1OEYxQzM4MTMzOENCRTUzRjA4NzdCNjY5OTg4MUE+IDw4MDU4RjFDMzgxMzM4Q0JFNTNGMDg3N0I2Njk5ODgxQT4gXQo+PgpzdGFydHhyZWYKMzc3NwolJUVPRg=='
    // ));


    // var iframe = "<iframe width='100%' height='100%' src='" + "data:application/pdf;base64," + encodeURI(
    //   'JVBERi0xLjMKJbrfrOAKMyAwIG9iago8PC9UeXBlIC9QYWdlCi9QYXJlbnQgMSAwIFIKL1Jlc291cmNlcyAyIDAgUgovTWVkaWFCb3ggWzAgMCA1OTUuMjggODQxLjg5XQovQ29udGVudHMgNCAwIFIKPj4KZW5kb2JqCjQgMCBvYmoKPDwKL0xlbmd0aCAxMzQ2Cj4+CnN0cmVhbQowLjU3IHcKMCBHCnEKcSBCVCAwIGcgNDIuNTIgNzgzLjI5IFRkCjAgLTI0LjAwIFRkCjAuMDAwIGcKL0YxMCAyNC4wMCBUZiAoVXNlciBEYXRhKSBUagpFVCBRCnEgQlQgMCBnIDYyLjUyIDczNC43MSBUZAowIC0xMi4wMCBUZAovRjkgMTIuMDAgVGYgKHZjYW5uYWxsQHVjc2QuZWR1KSBUago1Ni44MyA3MjYuNjAgbSA1Ni44MyA3MjcuNTYgNTYuMDUgNzI4LjM0IDU1LjA5IDcyOC4zNCBjCjU0LjEzIDcyOC4zNCA1My4zNSA3MjcuNTYgNTMuMzUgNzI2LjYwIGMKNTMuMzUgNzI1LjY0IDU0LjEzIDcyNC44NiA1NS4wOSA3MjQuODYgYwo1Ni4wNSA3MjQuODYgNTYuODMgNzI1LjY0IDU2LjgzIDcyNi42MCBjCkIKRVQgUQpxIEJUIDAgZyA2Mi41MiA3MTQuMjAgVGQKMCAtMTIuMDAgVGQKL0Y5IDEyLjAwIFRmIChWaW5jZW50KSBUago1Ni44MyA3MDYuMTAgbSA1Ni44MyA3MDcuMDYgNTYuMDUgNzA3Ljg0IDU1LjA5IDcwNy44NCBjCjU0LjEzIDcwNy44NCA1My4zNSA3MDcuMDYgNTMuMzUgNzA2LjEwIGMKNTMuMzUgNzA1LjE0IDU0LjEzIDcwNC4zNiA1NS4wOSA3MDQuMzYgYwo1Ni4wNSA3MDQuMzYgNTYuODMgNzA1LjE0IDU2LjgzIDcwNi4xMCBjCkIKRVQgUQpxIEJUIDAgZyA2Mi41MiA2OTMuNzAgVGQKMCAtMTIuMDAgVGQKL0Y5IDEyLjAwIFRmIChDYW5uYWxsYSkgVGoKNTYuODMgNjg1LjU5IG0gNTYuODMgNjg2LjU1IDU2LjA1IDY4Ny4zMyA1NS4wOSA2ODcuMzMgYwo1NC4xMyA2ODcuMzMgNTMuMzUgNjg2LjU1IDUzLjM1IDY4NS41OSBjCjUzLjM1IDY4NC42MyA1NC4xMyA2ODMuODUgNTUuMDkgNjgzLjg1IGMKNTYuMDUgNjgzLjg1IDU2LjgzIDY4NC42MyA1Ni44MyA2ODUuNTkgYwpCCkVUIFEKcSBCVCAwIGcgNjIuNTIgNjczLjE5IFRkCjAgLTEyLjAwIFRkCi9GOSAxMi4wMCBUZiAoMzU1NjQ5OCkgVGoKNTYuODMgNjY1LjA5IG0gNTYuODMgNjY2LjA1IDU2LjA1IDY2Ni44MyA1NS4wOSA2NjYuODMgYwo1NC4xMyA2NjYuODMgNTMuMzUgNjY2LjA1IDUzLjM1IDY2NS4wOSBjCjUzLjM1IDY2NC4xMyA1NC4xMyA2NjMuMzUgNTUuMDkgNjYzLjM1IGMKNTYuMDUgNjYzLjM1IDU2LjgzIDY2NC4xMyA1Ni44MyA2NjUuMDkgYwpCCkVUIFEKcSBCVCAwIGcgNjIuNTIgNjUyLjY5IFRkCjAgLTEyLjAwIFRkCi9GOSAxMi4wMCBUZiAoVHJ1ZSkgVGoKNTYuODMgNjQ0LjU5IG0gNTYuODMgNjQ1LjU1IDU2LjA1IDY0Ni4zMyA1NS4wOSA2NDYuMzMgYwo1NC4xMyA2NDYuMzMgNTMuMzUgNjQ1LjU1IDUzLjM1IDY0NC41OSBjCjUzLjM1IDY0My42MiA1NC4xMyA2NDIuODUgNTUuMDkgNjQyLjg1IGMKNTYuMDUgNjQyLjg1IDU2LjgzIDY0My42MiA1Ni44MyA2NDQuNTkgYwpCCkVUIFEKUQplbmRzdHJlYW0KZW5kb2JqCjEgMCBvYmoKPDwvVHlwZSAvUGFnZXMKL0tpZHMgWzMgMCBSIF0KL0NvdW50IDEKPj4KZW5kb2JqCjUgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9IZWx2ZXRpY2EKL1N1YnR5cGUgL1R5cGUxCi9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKNiAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL0hlbHZldGljYS1Cb2xkCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjcgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9IZWx2ZXRpY2EtT2JsaXF1ZQovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iago4IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvSGVsdmV0aWNhLUJvbGRPYmxpcXVlCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjkgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9Db3VyaWVyCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjEwIDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQ291cmllci1Cb2xkCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjExIDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQ291cmllci1PYmxpcXVlCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjEyIDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQ291cmllci1Cb2xkT2JsaXF1ZQovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iagoxMyAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL1RpbWVzLVJvbWFuCi9TdWJ0eXBlIC9UeXBlMQovRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZwovRmlyc3RDaGFyIDMyCi9MYXN0Q2hhciAyNTUKPj4KZW5kb2JqCjE0IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvVGltZXMtQm9sZAovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iagoxNSAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL1RpbWVzLUl0YWxpYwovU3VidHlwZSAvVHlwZTEKL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcKL0ZpcnN0Q2hhciAzMgovTGFzdENoYXIgMjU1Cj4+CmVuZG9iagoxNiAwIG9iago8PAovVHlwZSAvRm9udAovQmFzZUZvbnQgL1RpbWVzLUJvbGRJdGFsaWMKL1N1YnR5cGUgL1R5cGUxCi9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKMTcgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9aYXBmRGluZ2JhdHMKL1N1YnR5cGUgL1R5cGUxCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKMTggMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL0Jhc2VGb250IC9TeW1ib2wKL1N1YnR5cGUgL1R5cGUxCi9GaXJzdENoYXIgMzIKL0xhc3RDaGFyIDI1NQo+PgplbmRvYmoKMiAwIG9iago8PAovUHJvY1NldCBbL1BERiAvVGV4dCAvSW1hZ2VCIC9JbWFnZUMgL0ltYWdlSV0KL0ZvbnQgPDwKL0YxIDUgMCBSCi9GMiA2IDAgUgovRjMgNyAwIFIKL0Y0IDggMCBSCi9GNSA5IDAgUgovRjYgMTAgMCBSCi9GNyAxMSAwIFIKL0Y4IDEyIDAgUgovRjkgMTMgMCBSCi9GMTAgMTQgMCBSCi9GMTEgMTUgMCBSCi9GMTIgMTYgMCBSCi9GMTMgMTcgMCBSCi9GMTQgMTggMCBSCj4+Ci9YT2JqZWN0IDw8Cj4+Cj4+CmVuZG9iagoxOSAwIG9iago8PAovUHJvZHVjZXIgKGpzUERGIDEuNS4zKQovQ3JlYXRpb25EYXRlIChEOjIwMTkwMzE1MTUyNjEzLTA3JzAwJykKPj4KZW5kb2JqCjIwIDAgb2JqCjw8Ci9UeXBlIC9DYXRhbG9nCi9QYWdlcyAxIDAgUgovT3BlbkFjdGlvbiBbMyAwIFIgL0ZpdEggbnVsbF0KL1BhZ2VMYXlvdXQgL09uZUNvbHVtbgo+PgplbmRvYmoKeHJlZgowIDIxCjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMTUyMiAwMDAwMCBuIAowMDAwMDAzMzM5IDAwMDAwIG4gCjAwMDAwMDAwMTUgMDAwMDAgbiAKMDAwMDAwMDEyNCAwMDAwMCBuIAowMDAwMDAxNTc5IDAwMDAwIG4gCjAwMDAwMDE3MDQgMDAwMDAgbiAKMDAwMDAwMTgzNCAwMDAwMCBuIAowMDAwMDAxOTY3IDAwMDAwIG4gCjAwMDAwMDIxMDQgMDAwMDAgbiAKMDAwMDAwMjIyNyAwMDAwMCBuIAowMDAwMDAyMzU2IDAwMDAwIG4gCjAwMDAwMDI0ODggMDAwMDAgbiAKMDAwMDAwMjYyNCAwMDAwMCBuIAowMDAwMDAyNzUyIDAwMDAwIG4gCjAwMDAwMDI4NzkgMDAwMDAgbiAKMDAwMDAwMzAwOCAwMDAwMCBuIAowMDAwMDAzMTQxIDAwMDAwIG4gCjAwMDAwMDMyNDMgMDAwMDAgbiAKMDAwMDAwMzU4NyAwMDAwMCBuIAowMDAwMDAzNjczIDAwMDAwIG4gCnRyYWlsZXIKPDwKL1NpemUgMjEKL1Jvb3QgMjAgMCBSCi9JbmZvIDE5IDAgUgovSUQgWyA8ODA1OEYxQzM4MTMzOENCRTUzRjA4NzdCNjY5OTg4MUE+IDw4MDU4RjFDMzgxMzM4Q0JFNTNGMDg3N0I2Njk5ODgxQT4gXQo+PgpzdGFydHhyZWYKMzc3NwolJUVPRg=='
    // ) + "'></iframe>"
    // var x = window.open();
    // x.document.open();
    // x.document.write(iframe);
    // x.document.close();

    function genLink() {
      console.log('heelo');
      doc.fromHTML($('#content').html(), 15, 15, {
        'width': 170,
        // 'elementHandlers': specialElementHandlers
      });
      console.log(window.btoa(doc.output()))
      $.ajax({
        type: "post",
        url: "http://localhost:4000/makelink",
        credentials: 'same-origin',
        data: {
          encoded: window.btoa(doc.output())
        },
        success: function(msg) {
          console.log(msg);
        }
      });
    }
    // This code is collected but useful, click below to jsfiddle link.
  </script>



</body>

</html>
